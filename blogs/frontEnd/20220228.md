---
title: 正则手册
date: 2022-02-28
tags:
  - 计算机基础
categories:
  - frontEnd
---

推荐一个正则在线验证的网址：[regex101](https://regex101.com)

<!-- more -->

### 元字符

- `\d`：**匹配一个数字字符**，等价于[0-9]。
  ```js
  /\d/.exec("a66")[0]; // 6（从左往右，匹配到数字则返回）
  ```
- `\D`：**匹配一个非数字字符**，等价于[^0-9]。
  ```js
  /\D/.exec("a66")[0]; // a
  ```
- `\w`：**匹配一个单词字符**，包括：英文、数字、下划线，等价于[A-Za-z0-9_]。
  ```js
  /\w/.exec("Ab_9")[0]; // A
  /\w*/.exec("Ab_9")[0]; // Ab_9
  ```
- `\W`：**匹配一个非单词字符**，等价于[^a-za-z0-9_]。
  ```js
  /\W/.exec("Ab_9  ~")[0]; // ' '
  /\W*/.exec("Ab_9  ~")[0]; // '  ~'
  ```
- `\n`：**匹配一个换行字符**。

  ```js
  /\n/.exec("a\nb")[0]; // \n
  ```

- `\s`：**匹配一个空白字符或换行符**。
  ```js
  /\s/.exec("a  b")[0]; // ' '
  ```
- `\S`：**匹配一个除空白字符与换行符以外的任意字符**。
  ```js
  /\S*/.exec("Ab_9  ~\n")[0]; // Ab_9~
  ```
- `.` ： **匹配一个除换行字符以外的任意字符**。
  ```js
  /.*/.exec("Ab_9  ~\n")[0]; // Ab_9  ~
  ```
- `\b`：**匹配单词（\w ）的边界位置**，\b 前置表示单词前面必须是非单词字符（\W），后置表示单词后面必须是\W。
  ```js
  /\ba/.exec("aa")[0]; // a（/\ba/ 表示a字符的面前不是单词，所以只能匹配开头的a）
  /a\b/.exec("aa")[0]; // a（/a\b/ 表示a字符的后面不是单词，所以只能匹配结尾的a）
  ```
- `\B`：**匹配非单词（\W ）的边界位置**，\B 前置表示非单词前面必须是单词字符（\w），后置表示非单词后面必须是\w。

  ```js
  /\Ba/.exec("aa")[0]; // a（/\Ba/ 表示a字符的面前也是单词，所以只能匹配结尾的a）
  /a\B/.exec("aa")[0]; // a（/a\B/ 表示a字符的后面也是单词，所以只能匹配开头的a）
  ```

- `^`：**匹配字符串的开始位置**。
  ```js
  /^a/.exec("aa")[0]; // a (/^a/ 匹配起始的a字符)
  /^a/.exec(" a"); // null（开头不是a字符，匹配不到）
  /\ba/.exec(" a")[0]; // a（a前面不是单词，所以能匹配到）
  ```
- `$`：**匹配字符串的结尾位置**。
  ```js
  /a$/.exec("aa")[0]; // a (/^a/ 匹配结尾a的字符)
  /a$/.exec("a "); // null（结尾不是a字符，匹配不到）
  /a\b/.exec("a ")[0]; // a（a后面不是单词，所以能匹配到）
  ```

### 字符集合

- `[]`：**匹配所包含的任意一个字符**。
  ```js
  /[abc]/.exec("abc")[0]; // a
  ```
- `[^]`：**匹配未包含的任意一个字符**。
  ```js
  /[^abc]/.exec("abcde")[0]; // d
  ```

### 表达式

- `()`：**定义一个子表达式**，里面的内容当成一个整体。

  ```js
  /(a|b|c)*/.exec("abcd")[0]; // abc
  ```

- `()`：**也表示分组**，一个（）对应一个分组，每个分组匹配的值都会保存起来，用$n 捕获。
  ```js
  "08-07-2021".replace(/(\d{2})-(\d{2})-(\d{4})/, "$2-$1-$3"); // 07-08-2021
  ```

### 限定符

- `*`：**匹配前面字符或表达式零次或多次**，等价于{0,}
  ```js
  /ab*/.exec("a")[0]; // a
  /ab*/.exec("abb")[0]; // abb
  /a(bs)*/.exec("absbs")[0]; // absbs
  ```
- `+`：**匹配前面字符或表达式 1 次或多次**，等价于{1,}
  ```js
  /ab+/.exec("a"); // null
  /ab+/.exec("abb")[0]; // abb
  ```
- `?`：**匹配前面表达式 0 次或 1 次**，等价于{0,1}
  ```js
  /ab?/.exec("a")[0]; // a
  /ab?/.exec("abb")[0]; // ab
  ```
- `{n}`：**匹配前面字符或表达式 n 次**。
  ```js
  /ab{1}/.exec("abb")[0]; // ab
  /a(bs){2}/.exec("absbs")[0]; // absbs
  ```
- `{n,}`：**匹配前面字符或表达式至少 n 次**。
  ```js
  /ab{1,}/.exec("a"); // null
  /ab{1,}/.exec("abbbbbb")[0]; // abbbbbb
  ```
- `{n,m}`：**匹配前面字符或表达式至少 n 次，至多 m 次**。
  ```js
  /ab{1,2}/.exec("abbbbb")[0]; // abb
  ```

### 或运算符

- `a|b`：**匹配 a 或 b**。
- `(ab)|(cd)`：**匹配 ab 或 cd**。

### 匹配模式

- 贪婪匹配：**对于限定符尽可能多的匹配，正则表达式默认为贪婪匹配**。

```js
/<.+>/.exec("<div>hello</div>")[0]; // <div>hello</div>
/ab?/.exec("abb")[0]; // ab (b?匹配b 0次或1次，默认为贪婪匹配，所以匹配b 1次)
```

- 懒惰匹配：**尽可能少的匹配，在限定符后面加上`?`**。

```js
/<.+?>/.exec("<div>hello</div>")[0]; // <div>
/ab??/.exec("abb")[0]; // a (b?匹配b 0次或1次，在?限定符加上?，此时为懒惰匹配，所以匹配b 0次)
```

### 修饰符

- `g`：**global-全局匹配**，查找所有匹配项（默认非全局）。
  ```js
  "aaa".match(/a/); // a
  "aaa".match(/a/g); // ['a', 'a', 'a']
  "aaa".replace(/a/g, "b"); // 'bbb'
  ```
- `m`：**multi line-多行匹配**，使边界字符 ^ 和 $ 匹配每一行的开头和结尾（默认非多行）。

  ```js
  "a\na\na".match(/^a/); // a
  "a\na\na".match(/^a/gm); // ['a', 'a', 'a']
  ```

- `i`：**ignore-不区分大小写匹配**（默认区分大小写）。

  ```js
  "aAa".match(/a/g); // ['a', 'a']
  "aAa".match(/a/gi); // ['a', 'A', 'a']
  ```

- `s`：**指定`.`元字符包含换行符**（默认不包含）。
  ```js
  "ab\n".match(/./g); // ['a', 'b']
  "ab\n".match(/./gs); //  ['a', 'b', '\n']
  ```
