---
title: 正则手册
date: 2021-08-08
tags:
  - 计算机基础
categories:
  - frontEnd
---

### 元字符

- `\d`：**匹配一个数字字符**，等价于[0-9]。
  ```js
  /\d/.exec("a66")[0]; // 6（从左往右，匹配到数字则返回）
  ```
- `\D`：**匹配一个非数字字符**，等价于[^0-9]。
  ```js
  /\D/.exec("a66")[0]; // a
  ```
- `\w`：**匹配一个单词字符**，包括：英文、数字、下划线，等价于[A-Za-z0-9_]。
  ```js
  /\w/.exec("Ab_9")[0]; // A
  /\w*/.exec("Ab_9")[0]; // Ab_9
  ```
- `\W`：**匹配一个非单词字符**，等价于[^a-za-z0-9_]。
  ```js
  /\W/.exec("Ab_9  ~")[0]; // ' '
  /\W*/.exec("Ab_9  ~")[0]; // '  ~'
  ```
- `\n`：**匹配一个换行字符**。

  ```js
  /\n/.exec("a\nb")[0]; // \n
  ```

- `\s`：**匹配一个空白字符或换行符**。
  ```js
  /\s/.exec("a  b")[0]; // ' '
  ```
- `\S`：**匹配一个除空白字符与换行符以外的任意字符**。
  ```js
  /\S*/.exec("Ab_9  ~\n")[0]; // Ab_9~
  ```
- `.` ： **匹配一个除换行字符以外的任意字符**。
  ```js
  /.*/.exec("Ab_9  ~\n")[0]; // Ab_9  ~
  ```
- `\b`：**匹配单词（\w ）的边界位置**，\b 前置表示单词前面必须是非单词字符（\W），后置表示单词后面必须是\W。
  ```js
  /\ba/.exec("aa")[0]; // a（/\ba/ 表示a字符的面前不是单词，所以只能匹配开头的a）
  /a\b/.exec("aa")[0]; // a（/a\b/ 表示a字符的后面不是单词，所以只能匹配结尾的a）
  ```
- `\B`：**匹配非单词（\W ）的边界位置**，\B 前置表示非单词前面必须是单词字符（\w），后置表示非单词后面必须是\w。

  ```js
  /\Ba/.exec("aa")[0]; // a（/\Ba/ 表示a字符的面前也是单词，所以只能匹配结尾的a）
  /a\B/.exec("aa")[0]; // a（/a\B/ 表示a字符的后面也是单词，所以只能匹配开头的a）
  ```

- `^`：**匹配整个字符串的开始位置**。
  ```js
  /^a/.exec("aa")[0]; // a (/^a/ 匹配起始的a字符)
  /^a/.exec(" a"); // null（开头不是a字符，匹配不到）
  /\ba/.exec(" a")[0]; // a（a前面不是单词，所以能匹配到）
  ```
- `$`：**匹配整个字符串的结尾位置**。
  ```js
  /a$/.exec("aa")[0]; // a (/^a/ 匹配结尾a的字符)
  /a$/.exec("a "); // null（结尾不是a字符，匹配不到）
  /a\b/.exec("a ")[0]; // a（a后面不是单词，所以能匹配到）
  ```

### 字符集合

- `[]`：**匹配所包含的任意一个字符**。
  ```js
  /[abc]/.exec("abc")[0]; // a
  ```
- `[^]`：**匹配未包含的任意一个字符**。
  ```js
  /[^abc]/.exec("abcde")[0]; // d
  ```

### 表达式

- `()`：**定义一个子表达式**，里面的内容当成一个整体。

  ```js
  /(a|b|c)*/.exec("abcd")[0]; // abc
  ```

### 限定符

- `*`：**匹配前面字符或表达式零次或多次**，等价于{0,}
  ```js
  /ab*/.exec("a")[0]; // a
  /ab*/.exec("abb")[0]; // abb
  /a(bs)*/.exec("absbs")[0]; // absbs
  ```
- `+`：**匹配前面字符或表达式 1 次或多次**，等价于{1,}
  ```js
  /ab+/.exec("a"); // null
  /ab+/.exec("abb")[0]; // abb
  ```
- `?`：**匹配前面表达式 0 次或 1 次**，等价于{0,1}
  ```js
  /ab?/.exec("a")[0]; // a
  /ab?/.exec("abb")[0]; // ab
  ```
- `{n}`：**匹配前面字符或表达式 n 次**。
  ```js
  /ab{1}/.exec("abb")[0]; // ab
  /a(bs){2}/.exec("absbs")[0]; // absbs
  ```
- `{n,}`：**匹配前面字符或表达式至少 n 次**。
  ```js
  /ab{1,}/.exec("a"); // null
  /ab{1,}/.exec("abbbbbb")[0]; // abbbbbb
  ```
- `{n,m}`：**匹配前面字符或表达式至少 n 次，至多 m 次**。
  ```js
  /ab{1,2}/.exec("abbbbb")[0]; // abb
  ```

### 或运算符

- `a|b`：**匹配 a 或 b**。
- `(ab)|(cd)`：**匹配 ab 或 cd**。

### 匹配模式

- 贪婪匹配：**尽可能多的匹配，正则表达式默认为贪婪匹配**。

```js
/<.+>/.exec("<div>hello</div>")[0]; // <div>hello</div>
/ab?/.exec("abb")[0]; // ab (b?匹配b 0次或1次，默认为贪婪匹配，所以匹配b 1次)
```

- 懒惰匹配：**尽可能少的匹配，在限定符后面加上`?`**。

```js
/<.+?>/.exec("<div>hello</div>")[0]; // <div>
/ab??/.exec("abb")[0]; // a (b?匹配b 0次或1次，在?限定符加上?，此时为懒惰匹配，所以匹配b 0次)
```
